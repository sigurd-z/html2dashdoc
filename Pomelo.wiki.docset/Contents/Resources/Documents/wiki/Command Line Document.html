<html><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
<meta charset="utf-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="en" http-equiv="Content-Language">
<meta content="width=1020" name="viewport">
<title>Command Line Document · NetEase/pomelo Wiki · GitHub</title>
<link href="/opensearch.xml" rel="search" title="GitHub" type="application/opensearchdescription+xml">
<link href="src/ad667adaa2cfe8f3caa4a41b7d0a79a1.png" rel="fluid-icon" title="GitHub">
<link href="src/a10d19ff5f738940a7a5086be334f50b.png" rel="apple-touch-icon" sizes="57x57">
<link href="src/a10d19ff5f738940a7a5086be334f50b.png" rel="apple-touch-icon" sizes="114x114">
<link href="src/b4cd268bc600cc14d2cdd557de6da2fb.png" rel="apple-touch-icon" sizes="72x72">
<link href="src/b4cd268bc600cc14d2cdd557de6da2fb.png" rel="apple-touch-icon" sizes="144x144">
<meta content="1401488693436528" property="fb:app_id">
<meta content="@github" name="twitter:site"/><meta content="summary" name="twitter:card"/><meta content="NetEase/pomelo" name="twitter:title"/><meta content="pomelo - A fast,scalable,distributed game server framework for Node.js." name="twitter:description"/><meta content="https://avatars0.githubusercontent.com/u/1460597?v=3&amp;s=400" name="twitter:image:src"/>
<meta content="GitHub" property="og:site_name"/><meta content="object" property="og:type"/><meta content="https://avatars0.githubusercontent.com/u/1460597?v=3&amp;s=400" property="og:image"/><meta content="NetEase/pomelo" property="og:title"/><meta content="https://github.com/NetEase/pomelo" property="og:url"/><meta content="pomelo - A fast,scalable,distributed game server framework for Node.js." property="og:description"/>
<meta content="https://api.github.com/_private/browser/stats" name="browser-stats-url">
<meta content="https://api.github.com/_private/browser/errors" name="browser-errors-url">
<link href="https://assets-cdn.github.com/" rel="assets">
<meta content="1000" name="pjax-timeout">
<meta content="/windows-tile.png" name="msapplication-TileImage">
<meta content="#ffffff" name="msapplication-TileColor">
<meta data-pjax-transient="" name="selected-link" value="repo_wiki">
<meta content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU" name="google-site-verification">
<meta content="UA-3769691-2" name="google-analytics">
<meta content="collector.githubapp.com" name="octolytics-host"/><meta content="github" name="octolytics-app-id"/><meta content="CA86616A:448C:146A49A3:5670BFCF" name="octolytics-dimension-request_id"/>
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/wiki/show" data-pjax-transient="true" name="analytics-location"/>
<meta content="Rails, view, wiki#show" data-pjax-transient="true" name="analytics-event"/>
<meta class="js-ga-set" content="Logged Out" name="dimension1">
<meta content="github.com" name="hostname">
<meta content="" name="user-login">
<meta content="github.com" name="expected-hostname">
<link color="#4078c0" href="https://assets-cdn.github.com/pinned-octocat.svg" rel="mask-icon">
<link href="https://assets-cdn.github.com/favicon.ico" rel="icon" type="image/x-icon">
<meta content="3860f74196bbfd2688852d3438eaa63fe73ffa5c" name="form-nonce"/>
<link crossorigin="anonymous" href="src/350888e1495e7af27e01faa9d8291dee.css" media="all" rel="stylesheet"/>
<link crossorigin="anonymous" href="src/9fae9b7d8f0785d745a43c6465f74ae5.css" media="all" rel="stylesheet"/>
<meta content="cd9958d45e48e8e3157a320e9c346eaa" http-equiv="x-pjax-version">
<meta content="pomelo - A fast,scalable,distributed game server framework for Node.js." name="description">
<meta content="github.com/NetEase/pomelo git https://github.com/NetEase/pomelo.git" name="go-import">
<meta content="1460597" name="octolytics-dimension-user_id"/><meta content="NetEase" name="octolytics-dimension-user_login"/><meta content="5880912" name="octolytics-dimension-repository_id"/><meta content="NetEase/pomelo" name="octolytics-dimension-repository_nwo"/><meta content="true" name="octolytics-dimension-repository_public"/><meta content="false" name="octolytics-dimension-repository_is_fork"/><meta content="5880912" name="octolytics-dimension-repository_network_root_id"/><meta content="NetEase/pomelo" name="octolytics-dimension-repository_network_root_nwo"/>
<link href="https://github.com/NetEase/pomelo/commits/master.atom" rel="alternate" title="Recent Commits to pomelo:master" type="application/atom+xml">
</link></meta></meta></meta></link></link></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></link></meta></meta></meta></link></link></link></link></link></link></meta></meta></meta></meta></head><body style="padding:0 25px;"><div class="gollum-markdown-content instapaper_body" id="wiki-body">
<div class="markdown-body">
<h1>
<a aria-hidden="true" class="anchor" href="#command-line-document" id="user-content-command-line-document"><span class="octicon octicon-link"></span></a>Command Line Document</h1>
<p>Pomelo includes various shell-like commands that support application operations like creating a new project, starting the server application, debugging a running application, stopping a running application, killing a running application, etc. </p>
<h2>
<a aria-hidden="true" class="anchor" href="#installation" id="user-content-installation"><span class="octicon octicon-link"></span></a>Installation</h2>
<pre><code>npm install pomelo -g
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-init-dirname" id="user-content-pomelo-init-dirname"><span class="octicon octicon-link"></span></a><code>pomelo init &lt;dirname&gt;</code>
</h4>
<p>Create a new project under the path you give. If the path is not provided, the default path is current path, the default project name is current directory name; relative path is also supported.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-start--e-environment--debug---trace---profile---daemon" id="user-content-pomelo-start--e-environment--debug---trace---profile---daemon"><span class="octicon octicon-link"></span></a><code>pomelo start [-e &lt;environment&gt;] [-debug] [--trace] [--profile] [--daemon]</code>
</h4>
<p>Launches the application and servers. Can be run in <code>game-server/</code> or <code>web-server/</code>.</p>
<p><code>--daemon</code>: runs the application in the background. Log files by default are stored in <code>game-server/logs</code>. Application running in daemon need to install <a href="https://www.npmjs.org/package/forever">forever</a>.</p>
<p><code>–debug</code>: If need to debug in a certain server, just add the parameter '--debug=[port]'.For example, if you need to debug at 8080, --debug=8080. The supported parameters can refer to the command line parameters of node.js and v8. The command must be used in 'game-server' directory of the application.</p>
<p><code>--trace</code></p>
<p><code>--profile</code></p>
<p><code>-e &lt;environment&gt;</code>: environment is normally 'development' (default) or 'production', although you can set up custom environments by editing <code>/game-server/config/servers.json</code> and <code>/game-server/app.js</code>. For example：</p>
<pre><code>{
  "connector":[{
    "id": "connector-server-1",
    "host":"127.0.0.1",
    "port":4050,
    "wsPort":3050,
    "args":"--debug=[port] --trace"}
  ]
}
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-add-hosthost-portport-idid-servertypeservertype" id="user-content-pomelo-add-hosthost-portport-idid-servertypeservertype"><span class="octicon octicon-link"></span></a><code>pomelo add host=[host] port=[port] id=[id] serverType=[serverType]</code>
</h4>
<p>Add a server at runtime. The command must be used from the master server.    </p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-list--p-port" id="user-content-pomelo-list--p-port"><span class="octicon octicon-link"></span></a><code>pomelo list [-P &lt;port&gt;]</code>
</h4>
<p>List all servers' information during runtime. The command must be used in root directory of the application. If your master server is running on a port other than the default, use the <code>-P</code> option to specify listing all servers running off the master server on the provided port.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-stop--p-port" id="user-content-pomelo-stop--p-port"><span class="octicon octicon-link"></span></a><code>pomelo stop [-P &lt;port&gt;]</code>
</h4>
<p>Close all servers and stop the application gracefully. Unlike the kill command, it will first close the connection between clients and the server, and then terminal all servers. The command must be used in root directory of the application. Like the <code>list</code> command, you can specify a different master server port if necessary.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo-kill---force--p-port" id="user-content-pomelo-kill---force--p-port"><span class="octicon octicon-link"></span></a><code>pomelo kill [--force] [-P &lt;port&gt;]</code>
</h4>
<p>Close the application forcefully.If happens that there left application processes after killing when you develop in local, you can use the command <code>pomelo kill --force</code> to kill all application processes. It may lead to bad influences like data loss, so we do not recommend using this command in production mode. The command must be used in root directory of the application.</p>
<p>Like the <code>list</code> command, you can specify a different master server port if necessary.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo---version" id="user-content-pomelo---version"><span class="octicon octicon-link"></span></a><code>pomelo --version</code>
</h4>
<p>List the current version of pomelo. The command can be used in the global.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#pomelo---help" id="user-content-pomelo---help"><span class="octicon octicon-link"></span></a><code>pomelo --help</code>
</h4>
<p>List all the commands currently supported by pomelo. The command can be used in the global.</p>
</div>
</div></body></html>